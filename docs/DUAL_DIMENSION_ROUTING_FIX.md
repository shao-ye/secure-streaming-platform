# ğŸ”§ åŒç»´åº¦è·¯ç”±ä¿®å¤æ–¹æ¡ˆ - å®Œæ•´æ‰§è¡Œæ–‡æ¡£

**ç‰ˆæœ¬**: v1.0 | **åˆ›å»ºæ—¶é—´**: 2025-10-24 10:00 | **æ›´æ–°æ—¶é—´**: 2025-10-24 10:30

---

## ğŸ“– æ–‡æ¡£ä½¿ç”¨è¯´æ˜

### **é‡è¦åŸåˆ™**

âš ï¸ **æœ¬æ–‡æ¡£é‡‡ç”¨é˜¶æ®µåŒ–æ‰§è¡Œç­–ç•¥** - æ¯ä¸ªé˜¶æ®µå®Œæˆåå¿…é¡»éªŒè¯é€šè¿‡æ‰èƒ½ç»§ç»­

**æ‰§è¡Œè§„åˆ™**ï¼š
1. âœ… **ä¸¥æ ¼æŒ‰é˜¶æ®µé¡ºåºæ‰§è¡Œ** - ä¸è¦è·³è¿‡ä»»ä½•é˜¶æ®µ
2. âœ… **æ¯ä¸ªé˜¶æ®µåŒ…å«** - ä¿®æ”¹ â†’ éƒ¨ç½² â†’ éªŒè¯ â†’ æ ‡è®°å®Œæˆ
3. âœ… **éªŒè¯å¤±è´¥å¿…é¡»å›æ»š** - ä½¿ç”¨å¤‡ä»½æ–‡ä»¶æ¢å¤
4. âœ… **æ›´æ–°æ‰§è¡ŒçŠ¶æ€** - å®Œæˆä¸€ä¸ªé˜¶æ®µåœ¨è¿›åº¦è¡¨ä¸­æ ‡è®° âœ…
5. âœ… **é‡åˆ°é—®é¢˜ç«‹å³åœæ­¢** - åˆ†æåŸå› åå†ç»§ç»­

**ä¸ºä»€ä¹ˆè¦é˜¶æ®µåŒ–**ï¼š
- ğŸ”´ æœ¬æ¬¡ä¿®æ”¹æ¶‰åŠ8ä¸ªæ–‡ä»¶ã€çº¦200è¡Œä»£ç 
- ğŸ”´ ä¸€æ¬¡æ€§ä¿®æ”¹é£é™©é«˜ï¼Œéš¾ä»¥å®šä½é—®é¢˜
- âœ… åˆ†é˜¶æ®µæ‰§è¡Œå¯ä»¥åŠæ—¶å‘ç°å’Œä¿®å¤é—®é¢˜
- âœ… æ¯ä¸ªé˜¶æ®µéƒ½å¯ç‹¬ç«‹å›æ»šï¼Œå½±å“èŒƒå›´å°

---

## ğŸ“Š æ‰§è¡Œè¿›åº¦è¿½è¸ª

### **æ€»ä½“è¿›åº¦**: 0/5 é˜¶æ®µå®Œæˆ

| é˜¶æ®µ | åç§° | çŠ¶æ€ | å®Œæˆæ—¶é—´ | å¤‡æ³¨ |
|------|------|------|----------|------|
| **é˜¶æ®µ0** | éš§é“å¼€å…³ç¼“å­˜ä¿®å¤ | â³ æœªå¼€å§‹ | - | ç‹¬ç«‹ä¼˜åŒ–ï¼Œå¯å…ˆæ‰§è¡Œ |
| **é˜¶æ®µ1** | åç«¯è·¯ç”±é€»è¾‘é‡å†™ | â³ æœªå¼€å§‹ | - | æ ¸å¿ƒä¿®æ”¹ |
| **é˜¶æ®µ2** | åç«¯URLå’Œå“åº”å¤´ | â³ æœªå¼€å§‹ | - | ä¾èµ–é˜¶æ®µ1 |
| **é˜¶æ®µ3** | å‰ç«¯æ˜¾ç¤ºé€»è¾‘ | â³ æœªå¼€å§‹ | - | ä¾èµ–é˜¶æ®µ2 |
| **é˜¶æ®µ4** | å®Œæ•´é›†æˆæµ‹è¯• | â³ æœªå¼€å§‹ | - | æœ€ç»ˆéªŒè¯ |

**çŠ¶æ€è¯´æ˜**ï¼š
- â³ æœªå¼€å§‹
- ğŸ”„ è¿›è¡Œä¸­
- âœ… å·²å®Œæˆ
- âŒ éªŒè¯å¤±è´¥
- ğŸ”™ å·²å›æ»š

---

## ğŸ“‹ ä¸€ã€ä¿®æ”¹åŸå› å’Œç›®çš„

### **1.1 éš§é“å¼€å…³ç¼“å­˜é—®é¢˜**ï¼ˆé¢å¤–å‘ç°ï¼‰

**é—®é¢˜**ï¼šå½“å‰éš§é“å¼€å…³ä¿®æ”¹åéœ€è¦ç­‰30ç§’æ‰ç”Ÿæ•ˆ

**åŸå› **ï¼š
- éš§é“é…ç½®å­˜å‚¨åœ¨KVä¸­ï¼š`RUNTIME_TUNNEL_ENABLED`
- ä»£ç ä½¿ç”¨äº†30ç§’çš„å†…å­˜ç¼“å­˜ï¼ˆå‡å°‘KVè¯»å–ï¼‰
- ä¿®æ”¹é…ç½®å**æ²¡æœ‰æ¸…é™¤ç¼“å­˜**ï¼Œè¦ç­‰ç¼“å­˜è¿‡æœŸæ‰ç”Ÿæ•ˆ

**å½±å“**ï¼š
- ç®¡ç†å‘˜åˆ‡æ¢éš§é“å¼€å…³åï¼Œå®é™…è¦ç­‰30ç§’
- å‰ç«¯æ˜¾ç¤º"é…ç½®ç«‹å³ç”Ÿæ•ˆ"ï¼Œä½†è¿™æ˜¯**é”™è¯¯çš„æç¤º**

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨ `updateTunnelConfig()` ä¸­è°ƒç”¨ `TUNNEL_CONFIG.clearCache()`
- âœ… é…ç½®çœŸæ­£ç«‹å³ç”Ÿæ•ˆ
- âœ… ä¸éœ€è¦é‡å¯Workersï¼ˆé…ç½®åœ¨KVä¸­ï¼Œè¿è¡Œæ—¶è¯»å–ï¼‰

---

### **1.2 éš§é“å’Œä»£ç†äº’æ–¥é—®é¢˜**ï¼ˆæ ¸å¿ƒé—®é¢˜ï¼‰

**é—®é¢˜**ï¼šä»£ç å°†éš§é“å’Œä»£ç†è®¾è®¡ä¸º**äº’æ–¥æ¨¡å¼**ï¼Œæ— æ³•åŒæ—¶å¯ç”¨ï¼š

```javascript
// âŒ é”™è¯¯çš„äº’æ–¥é€»è¾‘
if (tunnelEnabled) return { type: 'tunnel' };  // ä»£ç†è¢«å¿½ç•¥
if (vpsProxyConnected) return { type: 'proxy' };
return { type: 'direct' };
```

### æ­£ç¡®çš„æ¶æ„

åº”è¯¥æ˜¯**ä¸¤ä¸ªç‹¬ç«‹çš„ä¼˜åŒ–ç»´åº¦**ï¼š

```
ç»´åº¦1: Workers â†’ VPS
  - tunnel: tunnel-*.yoyo-vps.your-domain.com
  - direct: yoyo-vps.your-domain.com

ç»´åº¦2: VPS â†’ RTMPæº
  - proxy: VPSé€šè¿‡V2Rayè·å–RTMPæµ
  - direct: VPSç›´è¿RTMPæº
```

**å››ç§ç»„åˆ**ï¼štunnel+proxyï¼ˆæœ€ä½³ï¼‰ã€tunnel+directã€direct+proxyã€direct+direct

---

## ğŸ”§ äºŒã€é˜¶æ®µåŒ–æ‰§è¡Œæ­¥éª¤

### **å‰ç½®å‡†å¤‡ï¼šå¤‡ä»½æ‰€æœ‰æ–‡ä»¶**

âš ï¸ **åœ¨å¼€å§‹ä»»ä½•ä¿®æ”¹å‰ï¼Œå¿…é¡»å…ˆå¤‡ä»½ï¼**

```bash
cd D:\é¡¹ç›®æ–‡ä»¶\yoyo-kindergarten\code\secure-streaming-platform\vps-transcoder-api

# å¤‡ä»½åç«¯æ–‡ä»¶
cp cloudflare-worker/src/utils/tunnel-router.js cloudflare-worker/src/utils/tunnel-router.js.backup
cp cloudflare-worker/src/handlers/streams.js cloudflare-worker/src/handlers/streams.js.backup
cp cloudflare-worker/src/handlers/deployment.js cloudflare-worker/src/handlers/deployment.js.backup

# å¤‡ä»½å‰ç«¯æ–‡ä»¶
cp frontend/src/components/VideoPlayer.vue frontend/src/components/VideoPlayer.vue.backup
cp frontend/src/components/admin/TunnelConfig.vue frontend/src/components/admin/TunnelConfig.vue.backup
```

âœ… **éªŒè¯å¤‡ä»½**ï¼š
```bash
ls -l *.backup
```

---

## ğŸ¯ é˜¶æ®µ0ï¼šéš§é“å¼€å…³ç¼“å­˜ä¿®å¤

**ç›®æ ‡**ï¼šä¿®å¤éš§é“å¼€å…³30ç§’å»¶è¿Ÿé—®é¢˜ï¼Œå®ç°ç«‹å³ç”Ÿæ•ˆ  
**å½±å“èŒƒå›´**ï¼š2ä¸ªæ–‡ä»¶ï¼ˆdeployment.js + TunnelConfig.vueï¼‰  
**é£é™©ç­‰çº§**ï¼šğŸŸ¢ ä½ï¼ˆç‹¬ç«‹åŠŸèƒ½ï¼Œä¸å½±å“æ ¸å¿ƒè·¯ç”±ï¼‰  
**é¢„è®¡æ—¶é—´**ï¼š15åˆ†é’Ÿ

### 0.1 åç«¯ä¿®æ”¹ - deployment.js

**æ–‡ä»¶**: `cloudflare-worker/src/handlers/deployment.js`  
**ä¿®æ”¹ä½ç½®**: `updateTunnelConfig()` æ–¹æ³•çš„ç¬¬68-83è¡Œ

**ä¿®æ”¹è¯´æ˜**ï¼šåœ¨å†™å…¥KVåç«‹å³æ¸…é™¤ç¼“å­˜
```javascript
// ç¬¬68-83è¡Œ
await env.YOYO_USER_DB.put('RUNTIME_TUNNEL_ENABLED', enabled.toString(), {
  metadata: {
    updatedAt: new Date().toISOString(),
    updatedBy: auth.user.username
  }
});

return successResponse({
  message: `éš§é“é…ç½®å·²${enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}ï¼Œé…ç½®ç«‹å³ç”Ÿæ•ˆï¼`,
  deploymentId: `runtime-update-${Date.now()}`,
  estimatedTime: 'ç«‹å³ç”Ÿæ•ˆ',
  status: 'success',
  enabled: enabled,
  note: 'é…ç½®å·²é€šè¿‡è¿è¡Œæ—¶æ›´æ–°æœºåˆ¶ç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡æ–°éƒ¨ç½²ã€‚',
  runtimeUpdate: true
}, request);
```

**ä¿®æ”¹ä¸º**:
```javascript
// å†™å…¥KV
await env.YOYO_USER_DB.put('RUNTIME_TUNNEL_ENABLED', enabled.toString(), {
  metadata: {
    updatedAt: new Date().toISOString(),
    updatedBy: auth.user.username
  }
});

// âœ… å…³é”®ä¿®å¤ï¼šæ¸…é™¤ç¼“å­˜ï¼Œä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ
TUNNEL_CONFIG.clearCache();
console.log(`ğŸ”„ éš§é“é…ç½®ç¼“å­˜å·²æ¸…é™¤ï¼Œæ–°é…ç½®ç«‹å³ç”Ÿæ•ˆ: ${enabled}`);

return successResponse({
  message: `éš§é“é…ç½®å·²${enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}`,
  status: 'success',
  enabled: enabled,
  immediateEffect: true,  // âœ… æ–°å¢å­—æ®µï¼šå‘Šè¯‰å‰ç«¯ç«‹å³ç”Ÿæ•ˆ
  note: 'é…ç½®å·²ç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€ç­‰å¾…éƒ¨ç½²'
}, request);
```

**è¯´æ˜**ï¼š
- æ·»åŠ  `TUNNEL_CONFIG.clearCache()` æ¸…é™¤30ç§’ç¼“å­˜
- åˆ é™¤å‡çš„ `deploymentId` å’Œ `estimatedTime`
- æ·»åŠ  `immediateEffect: true` å‘Šè¯‰å‰ç«¯æ— éœ€ç­‰å¾…

---

##### **å‰ç«¯ä¿®æ”¹**

**æ–‡ä»¶**: `frontend/src/components/admin/TunnelConfig.vue`

**ä¿®æ”¹ä½ç½®**: `handleToggle()` æ–¹æ³•çš„ç¬¬160-209è¡Œ

**é—®é¢˜åˆ†æ**ï¼š

å½“å‰ä»£ç çš„é—®é¢˜ï¼š
```javascript
// ç¬¬187-240è¡Œï¼šæ˜¾ç¤ºå‡çš„éƒ¨ç½²è¿›åº¦
deploymentStatus.value = {
  status: 'deploying',
  message: data.data.message,
  deploymentId: data.data.deploymentId
}

// å‡çš„60ç§’è¿›åº¦æ¡
startDeploymentPolling(data.data.deploymentId)
```

è¿™ä¸ª60ç§’è¿›åº¦æ¡æ˜¯**è¯¯å¯¼ç”¨æˆ·çš„**ï¼Œå› ä¸ºï¼š
- é…ç½®å®é™…å·²åœ¨KVä¸­ï¼Œç«‹å³ç”Ÿæ•ˆ
- åªæ˜¯ç­‰ç¼“å­˜è¿‡æœŸï¼Œä½†æˆ‘ä»¬å·²ç»åœ¨åç«¯æ¸…é™¤ç¼“å­˜äº†
- ç”¨æˆ·ä½“éªŒå·®ï¼šçœ‹èµ·æ¥å¾ˆæ…¢

**ä¿®æ”¹æ–¹æ¡ˆ**ï¼š

**åŸå§‹ä»£ç **ï¼ˆç¬¬160-209è¡Œï¼‰:
```javascript
const handleToggle = async (enabled) => {
  updating.value = true
  try {
    const response = await api.request('/api/admin/tunnel/config', {
      method: 'PUT',
      body: JSON.stringify({
        enabled: enabled,
        description: tunnelConfig.value.description
      })
    })
    
    const data = response.data
    if (data.status === 'success') {
      // æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰‹åŠ¨éƒ¨ç½²
      if (data.data.status === 'manual_deployment_required') {
        // ... æ‰‹åŠ¨éƒ¨ç½²é€»è¾‘ï¼ˆä¿ç•™ï¼‰
      } else {
        deploymentStatus.value = {
          status: 'deploying',
          message: data.data.message,
          deploymentId: data.data.deploymentId
        }
        
        ElMessage.success('éš§é“é…ç½®æ›´æ–°ä¸­ï¼Œæ­£åœ¨è‡ªåŠ¨éƒ¨ç½²...')
        
        // å¼€å§‹è½®è¯¢éƒ¨ç½²çŠ¶æ€
        startDeploymentPolling(data.data.deploymentId)  // âŒ åˆ é™¤è¿™ä¸ªå‡è¿›åº¦
      }
    }
  } catch (error) {
    ElMessage.error('æ›´æ–°éš§é“é…ç½®å¤±è´¥: ' + error.message)
    tunnelConfig.value.enabled = !enabled
  } finally {
    updating.value = false
  }
}
```

**ä¿®æ”¹ä¸º**:
```javascript
const handleToggle = async (enabled) => {
  updating.value = true
  try {
    const response = await api.request('/api/admin/tunnel/config', {
      method: 'PUT',
      body: JSON.stringify({
        enabled: enabled,
        description: tunnelConfig.value.description
      })
    })
    
    const data = response.data
    if (data.status === 'success') {
      // æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰‹åŠ¨éƒ¨ç½²
      if (data.data.status === 'manual_deployment_required') {
        // ... æ‰‹åŠ¨éƒ¨ç½²é€»è¾‘ï¼ˆä¿ç•™ä¸å˜ï¼‰
        ElMessage.warning({
          message: data.data.message,
          duration: 8000
        })
        deploymentStatus.value = {
          status: 'manual_required',
          message: data.data.message,
          note: data.data.note,
          manualSteps: data.data.manualSteps
        }
        tunnelConfig.value.enabled = data.data.enabled
      } else {
        // âœ… æ–°é€»è¾‘ï¼šé…ç½®ç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€ç­‰å¾…
        tunnelConfig.value.enabled = enabled
        
        ElMessage.success({
          message: `éš§é“ä¼˜åŒ–å·²${enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}ï¼Œé…ç½®å·²ç”Ÿæ•ˆ`,
          duration: 2000
        })
        
        // âœ… ç«‹å³é‡æ–°åŠ è½½é…ç½®ï¼ˆè€Œä¸æ˜¯ç­‰60ç§’ï¼‰
        setTimeout(() => {
          loadTunnelConfig()
        }, 500)
      }
    } else {
      throw new Error(data.message)
    }
  } catch (error) {
    ElMessage.error('æ›´æ–°éš§é“é…ç½®å¤±è´¥: ' + error.message)
    tunnelConfig.value.enabled = !enabled
  } finally {
    updating.value = false
  }
}
```

**åˆ é™¤çš„æ–¹æ³•**ï¼ˆç¬¬211-241è¡Œï¼‰:
```javascript
// âŒ åˆ é™¤æ•´ä¸ªæ–¹æ³•ï¼šä¸å†éœ€è¦å‡çš„éƒ¨ç½²è¿›åº¦
const startDeploymentPolling = (deploymentId) => {
  // ... æ•´ä¸ªæ–¹æ³•åˆ é™¤
}
```

**ä¿®æ”¹è¯´æ˜**ï¼š
1. âœ… åˆ é™¤å‡çš„"éƒ¨ç½²ä¸­"çŠ¶æ€æ˜¾ç¤º
2. âœ… åˆ é™¤å‡çš„60ç§’è¿›åº¦æ¡
3. âœ… æ”¹ä¸ºç®€å•çš„æˆåŠŸæç¤º
4. âœ… é…ç½®ç«‹å³æ›´æ–°UIï¼Œ500msååˆ·æ–°ç¡®è®¤
5. âœ… ä¿ç•™"æ‰‹åŠ¨éƒ¨ç½²"åˆ†æ”¯ï¼ˆAPIå‡­æ®ç¼ºå¤±æ—¶ï¼‰

---

**ä¿®æ”¹æ•ˆæœå¯¹æ¯”**ï¼š

| æ–¹é¢ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| **å®é™…ç”Ÿæ•ˆæ—¶é—´** | 30ç§’ï¼ˆç¼“å­˜è¿‡æœŸï¼‰ | ç«‹å³ï¼ˆæ¸…é™¤ç¼“å­˜ï¼‰ |
| **å‰ç«¯æ˜¾ç¤º** | å‡çš„60ç§’è¿›åº¦æ¡ | ç«‹å³æç¤ºæˆåŠŸ |
| **ç”¨æˆ·ä½“éªŒ** | ç­‰å¾…1åˆ†é’Ÿ | å³æ—¶åé¦ˆ |
| **æ˜¯å¦é‡å¯Workers** | ä¸éœ€è¦ | ä¸éœ€è¦ |

---

#### **2.1 é‡å†™æ ¸å¿ƒè·¯ç”±é€»è¾‘**

**æ–‡ä»¶**: `cloudflare-worker/src/utils/tunnel-router.js`

**2.1 æ›¿æ¢ `getOptimalEndpoints()` æ–¹æ³•ï¼ˆç¬¬7-74è¡Œï¼‰**

åˆ é™¤åŸæœ‰çš„äº’æ–¥é€»è¾‘ï¼Œæ›¿æ¢ä¸ºï¼š

```javascript
static async getOptimalEndpoints(env, request = null) {
  const country = request?.cf?.country;
  console.log('[TunnelRouter] ğŸ” åŒç»´åº¦è·¯ç”±å†³ç­–...', { country });
  
  // ç»´åº¦1: Workers â†’ VPS
  const tunnelEnabled = await TUNNEL_CONFIG.getTunnelEnabled(env);
  const frontendPath = tunnelEnabled ? 'tunnel' : 'direct';
  const frontendEndpoints = tunnelEnabled ? TUNNEL_CONFIG.TUNNEL_ENDPOINTS : TUNNEL_CONFIG.DIRECT_ENDPOINTS;
  
  // ç»´åº¦2: VPS â†’ RTMPæºï¼ˆç‹¬ç«‹åˆ¤æ–­ï¼‰
  let backendPath = 'direct';
  let vpsProxyName = null;
  
  try {
    const res = await fetch(`${env.VPS_API_URL}/api/proxy/status`, {
      headers: { 'X-API-Key': env.VPS_API_KEY },
      signal: AbortSignal.timeout(3000)
    });
    
    if (res.ok) {
      const data = await res.json();
      if (data.data?.connectionStatus === 'connected') {
        backendPath = 'proxy';
        vpsProxyName = data.data.currentProxy?.name || 'unknown';
      }
    }
  } catch (e) {
    console.warn('[TunnelRouter] VPSä»£ç†æŸ¥è¯¢å¤±è´¥:', e.message);
  }
  
  const routeType = `${frontendPath}+${backendPath}`;
  console.log(`[TunnelRouter] âœ… è·¯ç”±: ${routeType}`);
  
  return {
    type: routeType,
    frontendPath: { mode: frontendPath, endpoints: frontendEndpoints },
    backendPath: { mode: backendPath, proxyName: vpsProxyName },
    endpoints: frontendEndpoints,  // å‘åå…¼å®¹
    reason: this._buildRouteReason(frontendPath, backendPath, vpsProxyName, country)
  };
}

static _buildRouteReason(frontendPath, backendPath, vpsProxyName, country) {
  const r = [];
  r.push(frontendPath === 'tunnel' ? 'Workersé€šè¿‡Tunnelè®¿é—®VPS' : 'Workersç›´è¿VPS');
  r.push(backendPath === 'proxy' ? `VPSé€šè¿‡${vpsProxyName}ä»£ç†è·RTMPæµ` : 'VPSç›´è¿RTMPæº');
  if (country) r.push(`ä½ç½®: ${country}`);
  return r.join(' | ');
}
```

**2.2 æ›´æ–° `buildVPSUrl()` æ–¹æ³•ï¼ˆç¬¬81è¡Œï¼‰**

```javascript
// åŸ: const baseUrl = routing.endpoints[service];
// æ”¹ä¸º:
const baseUrl = routing.frontendPath.endpoints[service];
```

---

### æ­¥éª¤3: ä¿®æ”¹ streams.js

**æ–‡ä»¶**: `cloudflare-worker/src/handlers/streams.js`

**3.1 æ›¿æ¢ `wrapHlsUrlForCurrentMode()` å‡½æ•°ï¼ˆç¬¬255-285è¡Œï¼‰**

åˆ é™¤ `case 'proxy'` åˆ†æ”¯ï¼Œåªä¿ç•™å‰ç«¯è·¯å¾„åˆ¤æ–­ï¼š

```javascript
function wrapHlsUrlForCurrentMode(baseHlsUrl, routingInfo, env, userToken) {
  if (!baseHlsUrl) throw new Error('Base HLS URL is required');
  
  const token = userToken || env.VIDEO_TOKEN || 'default-token';
  
  let hlsPath;
  if (baseHlsUrl.startsWith('http')) {
    hlsPath = new URL(baseHlsUrl).pathname;
  } else {
    hlsPath = baseHlsUrl.startsWith('/') ? baseHlsUrl : `/${baseHlsUrl}`;
  }
  
  // åªæ ¹æ®å‰ç«¯è·¯å¾„å†³å®šURL
  const frontendPath = routingInfo.frontendPath?.mode || 'direct';
  
  switch(frontendPath) {
    case 'tunnel':
      return `https://tunnel-hls.yoyo-vps.your-domain.com${hlsPath}?token=${token}`;
    case 'direct':
      return `https://yoyoapi.your-domain.com${hlsPath}?token=${token}`;
    default:
      console.warn(`æœªçŸ¥å‰ç«¯è·¯å¾„ ${frontendPath}`);
      return `https://yoyoapi.your-domain.com${hlsPath}?token=${token}`;
  }
}
```

**3.2 æ›´æ–°å“åº”å¤´ï¼ˆå¤šä¸ªä½ç½®ï¼‰**

åœ¨ `startWatching`ã€`stopWatching`ã€`getSystemStatus` ç­‰æ–¹æ³•çš„å“åº”å¤´ä¸­æ·»åŠ ï¼š

```javascript
headers: {
  'Content-Type': 'application/json',
  // æ–°å¢åŒç»´åº¦å“åº”å¤´
  'X-Route-Type': routing.type,
  'X-Frontend-Path': routing.frontendPath.mode,
  'X-Backend-Path': routing.backendPath.mode,
  'X-VPS-Proxy-Name': routing.backendPath.proxyName || 'none',
  'X-Tunnel-Enabled': routing.frontendPath.mode === 'tunnel' ? 'true' : 'false',
  'X-VPS-Proxy-Enabled': routing.backendPath.mode === 'proxy' ? 'true' : 'false',
  // ... å…¶ä»–ç°æœ‰å“åº”å¤´
}
```

---

### æ­¥éª¤4: éƒ¨ç½²

```bash
cd cloudflare-worker
npx wrangler deploy --env production
```

---

### æ­¥éª¤5: æµ‹è¯•éªŒè¯

#### æµ‹è¯•1: tunnel+proxyï¼ˆæœ€é‡è¦ï¼‰

```powershell
# 1. å¯ç”¨éš§é“
Invoke-RestMethod -Uri "https://yoyoapi.your-domain.com/api/admin/tunnel/toggle" `
  -Method POST -Body '{"enabled":true}' -ContentType "application/json" `
  -Headers @{"Authorization"="Bearer YOUR_TOKEN"}

# 2. åœ¨ç®¡ç†åå°è¿æ¥ä»£ç†

# 3. æµ‹è¯•
$r = Invoke-WebRequest -Uri "https://yoyoapi.your-domain.com/api/simple-stream/start-watching" `
  -Method POST -Body '{"channelId":"ID"}' -ContentType "application/json" `
  -Headers @{"Authorization"="Bearer YOUR_TOKEN"}

# 4. éªŒè¯å“åº”å¤´
$r.Headers['X-Route-Type']        # åº”ä¸º: tunnel+proxy
$r.Headers['X-Frontend-Path']     # åº”ä¸º: tunnel
$r.Headers['X-Backend-Path']      # åº”ä¸º: proxy
$r.Headers['X-Tunnel-Enabled']    # åº”ä¸º: true
$r.Headers['X-VPS-Proxy-Enabled'] # åº”ä¸º: true

# 5. éªŒè¯å‰ç«¯æ˜¾ç¤ºï¼ˆæ‰“å¼€è§†é¢‘æ’­æ”¾å™¨ï¼‰
# åº”è¯¥çœ‹åˆ°ï¼š[çŠ¶æ€: æ’­æ”¾ä¸­] [å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ä»£ç†(jp)] [å»¶è¿Ÿ: 14ms]
```

**é¢„æœŸå‰ç«¯æ˜¾ç¤º**ï¼š
```
[å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ä»£ç†(jp)]
```

#### æµ‹è¯•2-4: å…¶ä»–ç»„åˆ

- **tunnel+direct**: éš§é“å¯ç”¨ + ä»£ç†æ–­å¼€
- **direct+proxy**: éš§é“ç¦ç”¨ + ä»£ç†è¿æ¥
- **direct+direct**: éƒ½ç¦ç”¨

æ¯ä¸ªç»„åˆéªŒè¯ `X-Route-Type` å’Œä¸¤ä¸ªç‹¬ç«‹ç»´åº¦çš„å“åº”å¤´ã€‚

#### éªŒè¯HLS URL

- [ ] tunnel è¿”å›: `https://tunnel-hls.yoyo-vps.your-domain.com/hls/...`
- [ ] direct è¿”å›: `https://yoyoapi.your-domain.com/hls/...`
- [ ] **ä¸åŒ…å«** `/tunnel-proxy` è·¯å¾„

---

### æ­¥éª¤6: æ›´æ–°å‰ç«¯æ˜¾ç¤ºé€»è¾‘

**æ–‡ä»¶**: `frontend/src/components/VideoPlayer.vue`

#### **å‰ç«¯æ˜¾ç¤ºé€»è¾‘è¯´æ˜**

**å½“å‰æ˜¾ç¤º**ï¼ˆå¦‚å›¾æ‰€ç¤ºï¼‰ï¼š
```
[çŠ¶æ€: æ’­æ”¾ä¸­] [è¿æ¥: éš§é“ä¼˜åŒ–] [å»¶è¿Ÿ: 14ms]
```

**å„æ ‡ç­¾çš„æ•°æ®æ¥æº**ï¼š

| æ ‡ç­¾ | å˜é‡ | æ•°æ®æ¥æº | è·å–æ–¹å¼ |
|------|------|---------|---------|
| **çŠ¶æ€** | `status` | è§†é¢‘æ’­æ”¾å™¨çŠ¶æ€ | è§†é¢‘äº‹ä»¶è§¦å‘æ›´æ–° |
| **è¿æ¥** | `connectionMode` | è·¯ç”±æ¨¡å¼ | â‘  HLSäº‹ä»¶å“åº”å¤´ â‘¡ HEADè¯·æ±‚å“åº”å¤´ â‘¢ URLæ¨æ–­ |
| **å»¶è¿Ÿ** | `responseTime` | å“åº”æ—¶é—´ | å“åº”å¤´ `X-Response-Time` |

**å…³é”®é€»è¾‘**ï¼š

1. **HLS.Events.MANIFEST_LOADED** (ç¬¬290-318è¡Œ)
   - HLSåŠ è½½æ¸…å•æ—¶ï¼Œä» `data.networkDetails.response.headers` è¯»å–
   - è·å– `x-route-via` â†’ èµ‹å€¼ç»™ `connectionMode`
   - è·å– `x-response-time` â†’ èµ‹å€¼ç»™ `responseTime`

2. **fetchConnectionMode()** (ç¬¬560-604è¡Œ)
   - å¦‚æœHLSäº‹ä»¶ä¸­æ²¡æœ‰è·å–åˆ°ï¼Œæ‰‹åŠ¨å‘èµ· HEAD è¯·æ±‚
   - ä»å“åº”å¤´è¯»å– `x-route-via`ã€`x-response-time`

3. **detectConnectionModeFromUrl()** (ç¬¬505-557è¡Œ)
   - å…œåº•æ–¹æ¡ˆï¼šä»HLS URLæ¨æ–­è¿æ¥æ¨¡å¼
   - `tunnel-hls.yoyo-vps.your-domain.com` â†’ `tunnel`
   - `yoyoapi.your-domain.com/tunnel-proxy/` â†’ `proxy` âŒ **åºŸå¼ƒè·¯å¾„**
   - `yoyoapi.your-domain.com` â†’ `direct`

**ä¿®æ”¹åçš„æ˜¾ç¤º**ï¼š
```
[çŠ¶æ€: æ’­æ”¾ä¸­] [å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ä»£ç†(jp)] [å»¶è¿Ÿ: 14ms]
```

**æ–°çš„æ•°æ®æ¥æº**ï¼š

| æ ‡ç­¾ | å˜é‡ | æ•°æ®æ¥æº | è·å–æ–¹å¼ |
|------|------|---------|---------|
| **å‰ç«¯** | `frontendPath` | å‰ç«¯è·¯å¾„æ¨¡å¼ | å“åº”å¤´ `X-Frontend-Path` |
| **åç«¯** | `backendPath` | åç«¯è·¯å¾„æ¨¡å¼ | å“åº”å¤´ `X-Backend-Path` |
| **ä»£ç†åç§°** | `vpsProxyName` | VPSä»£ç†åç§° | å“åº”å¤´ `X-VPS-Proxy-Name` |

---

#### 6.1 ä¿®æ”¹æ¨¡æ¿éƒ¨åˆ†ï¼ˆç¬¬86-94è¡Œï¼‰

**å½“å‰ä»£ç **ï¼ˆå•ä¸€æ ‡ç­¾æ˜¾ç¤ºï¼‰:
```vue
<div class="info-item" v-if="connectionMode">
  <span class="label">è¿æ¥:</span>
  <el-tag :type="connectionModeType" size="small">
    <el-icon style="margin-right: 4px;">
      <component :is="connectionModeIcon" />
    </el-icon>
    {{ connectionModeText }}
  </el-tag>
</div>
```

**ä¿®æ”¹ä¸º**ï¼ˆåŒç»´åº¦æ˜¾ç¤ºï¼‰:
```vue
<!-- å‰ç«¯è·¯å¾„ -->
<div class="info-item" v-if="frontendPath">
  <span class="label">å‰ç«¯:</span>
  <el-tag :type="frontendPathType" size="small">
    <el-icon style="margin-right: 4px;">
      <component :is="frontendPathIcon" />
    </el-icon>
    {{ frontendPathText }}
  </el-tag>
</div>

<!-- åç«¯è·¯å¾„ -->
<div class="info-item" v-if="backendPath">
  <span class="label">åç«¯:</span>
  <el-tag :type="backendPathType" size="small">
    <el-icon style="margin-right: 4px;">
      <component :is="backendPathIcon" />
    </el-icon>
    {{ backendPathText }}
  </el-tag>
</div>
```

#### 6.2 ä¿®æ”¹ script éƒ¨åˆ†

**ä½ç½®1: æ·»åŠ æ–°çš„å“åº”å¼å˜é‡ï¼ˆç¬¬133è¡Œé™„è¿‘ï¼‰**

```javascript
// åˆ é™¤æ—§çš„å•ä¸€å˜é‡
// const connectionMode = ref('')

// æ–°å¢ï¼šåŒç»´åº¦å˜é‡
const frontendPath = ref('')  // 'tunnel' æˆ– 'direct'
const backendPath = ref('')   // 'proxy' æˆ– 'direct'
const vpsProxyName = ref('')  // ä»£ç†åç§°
```

**ä½ç½®2: æ›¿æ¢ computed å±æ€§ï¼ˆç¬¬158-193è¡Œï¼‰**

**åˆ é™¤**æ—§çš„ `connectionModeType`ã€`connectionModeIcon`ã€`connectionModeText`

**æ·»åŠ **æ–°çš„ computed:

```javascript
// å‰ç«¯è·¯å¾„æ˜¾ç¤º
const frontendPathType = computed(() => {
  return frontendPath.value === 'tunnel' ? 'success' : 'info'
})

const frontendPathIcon = computed(() => {
  return frontendPath.value === 'tunnel' ? Connection : Link
})

const frontendPathText = computed(() => {
  return frontendPath.value === 'tunnel' ? 'éš§é“ä¼˜åŒ–' : 'ç›´è¿'
})

// åç«¯è·¯å¾„æ˜¾ç¤º
const backendPathType = computed(() => {
  return backendPath.value === 'proxy' ? 'success' : 'info'
})

const backendPathIcon = computed(() => {
  return backendPath.value === 'proxy' ? Connection : Link
})

const backendPathText = computed(() => {
  if (backendPath.value === 'proxy') {
    return vpsProxyName.value ? `ä»£ç†(${vpsProxyName.value})` : 'ä»£ç†'
  }
  return 'ç›´è¿'
})
```

**ä½ç½®3: æ›´æ–°å“åº”å¤´è¯»å–é€»è¾‘ï¼ˆç¬¬301-312è¡Œå’Œç¬¬568-582è¡Œï¼‰**

æ‰¾åˆ°æ‰€æœ‰è¯»å– `x-route-via` çš„åœ°æ–¹ï¼Œæ›¿æ¢ä¸ºï¼š

```javascript
// è¯»å–æ–°çš„åŒç»´åº¦å“åº”å¤´
const frontendPathHeader = response.headers.get('x-frontend-path')
const backendPathHeader = response.headers.get('x-backend-path')
const proxyNameHeader = response.headers.get('x-vps-proxy-name')

if (frontendPathHeader) {
  frontendPath.value = frontendPathHeader
  debugLog('å‰ç«¯è·¯å¾„:', frontendPathHeader)
}

if (backendPathHeader) {
  backendPath.value = backendPathHeader
  debugLog('åç«¯è·¯å¾„:', backendPathHeader)
}

if (proxyNameHeader && proxyNameHeader !== 'none') {
  vpsProxyName.value = proxyNameHeader
  debugLog('ä»£ç†åç§°:', proxyNameHeader)
}
```

**ä½ç½®4: æ›´æ–° URL æ¨æ–­é€»è¾‘ï¼ˆç¬¬505-540è¡Œï¼‰**

**ä¿®æ”¹** `detectConnectionModeFromUrl` å‡½æ•°ï¼š

```javascript
const detectConnectionModeFromUrl = (url) => {
  if (!url) {
    return { frontend: 'unknown', backend: 'unknown' }
  }
  
  // åªä» URL åˆ¤æ–­å‰ç«¯è·¯å¾„
  let frontend = 'direct'
  
  if (url.includes('tunnel-hls.yoyo-vps.your-domain.com') || 
      url.includes('tunnel-api.yoyo-vps.your-domain.com')) {
    frontend = 'tunnel'
  }
  
  // URL æ— æ³•åˆ¤æ–­åç«¯è·¯å¾„ï¼Œè¿”å› unknown
  return { frontend, backend: 'unknown' }
}
```

**ä½ç½®5: æ›´æ–°æ‰€æœ‰ä½¿ç”¨ `connectionMode` çš„åœ°æ–¹**

æœç´¢æ‰€æœ‰ `connectionMode.value =` çš„åœ°æ–¹ï¼Œæ”¹ä¸ºï¼š

```javascript
// ä» URL æ¨æ–­
const modeInfo = detectConnectionModeFromUrl(props.hlsUrl)
frontendPath.value = modeInfo.frontend
// åç«¯è·¯å¾„æ— æ³•ä» URL åˆ¤æ–­ï¼Œä¿æŒåŸå€¼æˆ–è®¾ä¸º unknown
```

---

### æ­¥éª¤7: éƒ¨ç½²å‰ç«¯

```bash
# å‰ç«¯ä¿®æ”¹å®Œæˆåï¼Œæäº¤åˆ° Git
git add frontend/src/components/VideoPlayer.vue
git commit -m "feat: å‰ç«¯æ”¯æŒåŒç»´åº¦è·¯ç”±æ˜¾ç¤º"
git push origin master

# Cloudflare Pages ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…3-5åˆ†é’Ÿ
```

âœ… **éªŒè¯**ï¼š
- [ ] Git æäº¤æˆåŠŸ
- [ ] Cloudflare Pages è‡ªåŠ¨éƒ¨ç½²è§¦å‘
- [ ] éƒ¨ç½²å®Œæˆåå‰ç«¯æ˜¾ç¤ºæ›´æ–°

---

## âœ… ä¸‰ã€éªŒæ”¶æ ‡å‡†

### **3.1 éš§é“å¼€å…³ä¼˜åŒ–éªŒæ”¶**ï¼ˆæ­¥éª¤2.0ï¼‰

- [ ] åç«¯æ·»åŠ äº† `TUNNEL_CONFIG.clearCache()` è°ƒç”¨
- [ ] å‰ç«¯åˆ é™¤äº† `startDeploymentPolling()` æ–¹æ³•
- [ ] åˆ‡æ¢éš§é“å¼€å…³åï¼Œç«‹å³æ˜¾ç¤ºæˆåŠŸæç¤ºï¼ˆä¸å†æœ‰60ç§’è¿›åº¦æ¡ï¼‰
- [ ] 500msåé…ç½®ç¡®å®ç”Ÿæ•ˆï¼ˆåˆ·æ–°é¡µé¢éªŒè¯ï¼‰
- [ ] ä¸éœ€è¦é‡å¯Workers

**æµ‹è¯•æ–¹æ³•**ï¼š
```
1. æ‰“å¼€ç®¡ç†åå° â†’ éš§é“ä¼˜åŒ–é¡µé¢
2. åˆ‡æ¢éš§é“å¼€å…³
3. é¢„æœŸï¼šç«‹å³æç¤º"é…ç½®å·²ç”Ÿæ•ˆ"ï¼Œæ— è¿›åº¦æ¡
4. å®é™…éªŒè¯ï¼šåˆ‡æ¢åç«‹å³æ’­æ”¾è§†é¢‘ï¼Œè§‚å¯Ÿå“åº”å¤´
```

---

### **3.2 åŒç»´åº¦è·¯ç”±éªŒæ”¶**ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

- [ ] å¯ä»¥åŒæ—¶å¯ç”¨éš§é“å’Œä»£ç†ï¼ˆtunnel+proxyï¼‰
- [ ] å››ç§è·¯å¾„ç»„åˆéƒ½èƒ½æ­£å¸¸å·¥ä½œ
- [ ] å“åº”å¤´æ­£ç¡®æ˜¾ç¤ºåŒç»´åº¦ä¿¡æ¯
- [ ] HLS URL åªæ ¹æ®å‰ç«¯è·¯å¾„å†³å®š
- [ ] åˆ é™¤äº†æ‰€æœ‰ `/tunnel-proxy` è·¯å¾„å¼•ç”¨

### åŠŸèƒ½éªŒè¯

- [ ] è§†é¢‘æ’­æ”¾æ­£å¸¸
- [ ] é¢‘é“åˆ‡æ¢æ­£å¸¸
- [ ] æ‰€æœ‰APIå“åº”åŒ…å«è·¯ç”±ä¿¡æ¯
- [ ] æ§åˆ¶å°æ—¥å¿—æ¸…æ™°æ˜¾ç¤ºè·¯ç”±å†³ç­–

### å‰ç«¯æ˜¾ç¤ºéªŒè¯

- [ ] æ’­æ”¾å™¨æ˜¾ç¤ºä¸¤ä¸ªç‹¬ç«‹æ ‡ç­¾ï¼š**å‰ç«¯** å’Œ **åç«¯**
- [ ] tunnel+proxy æ˜¾ç¤ºï¼š`[å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ä»£ç†(jp)]`
- [ ] tunnel+direct æ˜¾ç¤ºï¼š`[å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ç›´è¿]`
- [ ] direct+proxy æ˜¾ç¤ºï¼š`[å‰ç«¯: ç›´è¿] [åç«¯: ä»£ç†(jp)]`
- [ ] direct+direct æ˜¾ç¤ºï¼š`[å‰ç«¯: ç›´è¿] [åç«¯: ç›´è¿]`
- [ ] ä»£ç†åç§°æ­£ç¡®æ˜¾ç¤ºåœ¨åç«¯æ ‡ç­¾ä¸­

---

## ğŸ”„ å››ã€å›æ»šæ–¹æ¡ˆ

å¦‚æœå‡ºç°é—®é¢˜ï¼š

```bash
# æ¢å¤å¤‡ä»½æ–‡ä»¶
cp cloudflare-worker/src/utils/tunnel-router.js.backup cloudflare-worker/src/utils/tunnel-router.js
cp cloudflare-worker/src/handlers/streams.js.backup cloudflare-worker/src/handlers/streams.js

# é‡æ–°éƒ¨ç½²
cd cloudflare-worker
npx wrangler deploy --env production
```

---

## ğŸ“ äº”ã€ä¿®æ”¹æ€»ç»“

### ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

| åºå· | æ–‡ä»¶è·¯å¾„ | ä¿®æ”¹å†…å®¹ | å½±å“ | è¡Œæ•° |
|------|---------|---------|------|------|
| **0** | `cloudflare-worker/src/handlers/deployment.js` | æ·»åŠ ç¼“å­˜æ¸…é™¤ | ğŸŸ¢ ä¼˜åŒ– | +2è¡Œ |
| **1** | `frontend/src/components/admin/TunnelConfig.vue` | åˆ é™¤å‡éƒ¨ç½²è¿›åº¦ | ğŸŸ¢ ä¼˜åŒ– | -50è¡Œ |
| **2** | `cloudflare-worker/src/utils/tunnel-router.js` | é‡å†™ `getOptimalEndpoints()` | ğŸ”´ æ ¸å¿ƒ | é‡å†™ |
| **3** | `cloudflare-worker/src/utils/tunnel-router.js` | æ›´æ–° `buildVPSUrl()` | ğŸŸ¡ ä¾èµ– | 1è¡Œ |
| **4** | `cloudflare-worker/src/handlers/streams.js` | é‡å†™ `wrapHlsUrlForCurrentMode()` | ğŸ”´ é‡è¦ | é‡å†™ |
| **5** | `cloudflare-worker/src/handlers/streams.js` | æ›´æ–°å“åº”å¤´ï¼ˆå¤šå¤„ï¼‰ | ğŸŸ¡ é‡è¦ | +7è¡ŒÃ—3å¤„ |
| **6** | `frontend/src/components/VideoPlayer.vue` | æ¨¡æ¿ï¼šåŒæ ‡ç­¾æ˜¾ç¤º | ğŸŸ¢ UI | ä¿®æ”¹ |
| **7** | `frontend/src/components/VideoPlayer.vue` | Scriptï¼šåŒç»´åº¦å˜é‡ | ğŸŸ¢ UI | é‡å†™ |

**æ€»è®¡**: 8ä¸ªæ–‡ä»¶ï¼Œçº¦200è¡Œä»£ç ä¿®æ”¹

### åˆ é™¤çš„åºŸå¼ƒé€»è¾‘

- âŒ éš§é“å¯ç”¨æ—¶çš„ç«‹å³è¿”å›ï¼ˆäº’æ–¥é€»è¾‘ï¼‰
- âŒ `case 'proxy'` åˆ†æ”¯å’Œ `/tunnel-proxy` è·¯å¾„
- âŒ 3ç§å•ä¸€æ¨¡å¼ï¼ˆtunnel/proxy/directï¼‰
- âŒ å•ä¸€ `connectionMode` å˜é‡åŠç›¸å…³ computed

### æ–°å¢çš„æ­£ç¡®é€»è¾‘

**åç«¯**ï¼š
- âœ… åŒç»´åº¦ç‹¬ç«‹åˆ¤æ–­ï¼ˆfrontendPath + backendPathï¼‰
- âœ… 4ç§è·¯å¾„ç»„åˆæ”¯æŒï¼ˆtunnel+proxy ç­‰ï¼‰
- âœ… è¯¦ç»†çš„åŒç»´åº¦å“åº”å¤´ï¼ˆX-Frontend-Pathã€X-Backend-Pathï¼‰
- âœ… æ¸…æ™°çš„æ—¥å¿—è¾“å‡º

**å‰ç«¯**ï¼š
- âœ… åŒæ ‡ç­¾æ˜¾ç¤ºï¼ˆ[å‰ç«¯: xxx] [åç«¯: xxx]ï¼‰
- âœ… ç‹¬ç«‹çš„çŠ¶æ€ç®¡ç†ï¼ˆfrontendPathã€backendPathã€vpsProxyNameï¼‰
- âœ… ä»£ç†åç§°æ˜¾ç¤ºï¼ˆåç«¯: ä»£ç†(jp)ï¼‰

### æ ¸å¿ƒåŸåˆ™

> **éš§é“ä¼˜åŒ–Workersâ†’VPSï¼Œä»£ç†ä¼˜åŒ–VPSâ†’RTMPæºï¼Œä¸¤è€…ç‹¬ç«‹ï¼Œå¯åŒæ—¶å¯ç”¨**

### é¢„æœŸæ•ˆæœ

**ä¿®æ”¹å‰**ï¼ˆå›¾ä¸­æ˜¾ç¤ºï¼‰ï¼š
```
[çŠ¶æ€: æ’­æ”¾ä¸­] [è¿æ¥: éš§é“ä¼˜åŒ–] [å»¶è¿Ÿ: 14ms]
```
é—®é¢˜ï¼šæ— æ³•çœ‹å‡ºåç«¯æ˜¯å¦ä½¿ç”¨ä»£ç†

**ä¿®æ”¹å**ï¼ˆåŒç»´åº¦æ˜¾ç¤ºï¼‰ï¼š
```
[çŠ¶æ€: æ’­æ”¾ä¸­] [å‰ç«¯: éš§é“ä¼˜åŒ–] [åç«¯: ä»£ç†(jp)] [å»¶è¿Ÿ: 14ms]
```
ä¼˜åŠ¿ï¼šæ¸…æ™°æ˜¾ç¤ºä¸¤ä¸ªç»´åº¦çš„ä¼˜åŒ–çŠ¶æ€

---

**æ–‡æ¡£å®Œæˆ** | æŒ‰ç…§æ­¥éª¤1-7é€æ­¥æ‰§è¡Œå³å¯å®Œæˆä¿®æ”¹
