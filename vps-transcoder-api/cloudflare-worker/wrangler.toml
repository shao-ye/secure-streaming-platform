name = "yoyo-streaming-worker"
main = "src/index.js"
compatibility_date = "2023-12-01"

[[kv_namespaces]]
binding = "YOYO_USER_DB"
id = "edafbcf1042147f9b52f0fc4b5c37543"
preview_id = "f36b78f5fd4d493aa567f9e8abf68348"

# 路由配置
[[routes]]
pattern = "yoyoapi.5202021.xyz/*"
zone_name = "5202021.xyz"

# Durable Objects（如果需要）
# [[durable_objects.bindings]]
# name = "STREAMING_SESSIONS"
# class_name = "StreamingSession"

# 开发环境配置
[dev]
port = 8787
local_protocol = "https"
upstream_protocol = "https"

# 开发环境配置
[env.development]
vars = { ENVIRONMENT = "development" }

# 生产环境配置
[env.production]
[env.production.vars]
ENVIRONMENT = "production"
VPS_API_URL = "https://yoyo-vps.5202021.xyz"
VPS_HLS_URL = "https://yoyo-vps.5202021.xyz"
VPS_ENABLED = "true"
VPS_API_KEY = "85da076ae24b028b3d1ea1884e6b13c5afe34488be0f8d39a05fbbf26d23e938"

[[env.production.kv_namespaces]]
binding = "YOYO_USER_DB"
id = "edafbcf1042147f9b52f0fc4b5c37543"